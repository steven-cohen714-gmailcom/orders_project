<!-- File: frontend/templates/cod_payments_screen.html -->
{% extends "base.html" %}

{% block content %}
<h2>ðŸ’° COD Payments</h2>

<div class="filter-bar">
  <label for="start-date">Start Date:</label>
  <input type="date" id="start-date">
  
  <label for="end-date">End Date:</label>
  <input type="date" id="end-date">

  <label for="filter-supplier">Supplier:</label>
  <select id="filter-supplier">
    <option value="All">All</option>
  </select>

  <button id="clear-btn">Clear</button>
  <button id="filter-btn">Run</button>
</div>

<table id="payments-table">
  <thead>
    <tr>
      <th>Order #</th>
      <th>Supplier</th>
      <th>Created Date</th>
      <th>Total</th>
      <th>Payment Terms</th>
      <th>Payment Date</th>
      <th>Amount Paid</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="payments-body">
    <!-- JS will populate this -->
  </tbody>
</table>

<!-- Payment Modal -->
<div id="payment-modal" class="modal hidden">
  <div class="modal-content">
    <h3>Mark Order as Paid</h3>
    <form id="payment-form">
      <input type="hidden" id="modal-order-id">
      <label for="modal-amount-paid">Payment Amount:</label>
      <input type="number" id="modal-amount-paid" step="0.01" required>

      <label for="modal-payment-date">Payment Date:</label>
      <input type="date" id="modal-payment-date" required>

      <button type="submit">Confirm Payment</button>
      <button type="button" id="modal-cancel">Cancel</button>
    </form>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script type="module" src="/static/js/cod_payments_screen.js" defer></script>
{% endblock %}
