2025-05-10 16:44:10,755 | INFO | No order submitted yet, submitting order for emailing | Details: {}
2025-05-10 16:44:10,760 | INFO | submitOrder started | Details: {}
2025-05-10 16:44:10,779 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1006"}
2025-05-10 16:44:16,813 | ERROR | Failed to obtain order ID after submission | Details: {}
2025-05-10 16:44:41,631 | INFO | No order submitted yet, submitting order for emailing | Details: {}
2025-05-10 16:44:41,635 | INFO | submitOrder started | Details: {}
2025-05-10 16:44:41,640 | ERROR | Missing required fields in submitOrder | Details: {"requesterId": "", "supplierId": ""}
2025-05-10 16:44:43,620 | ERROR | Failed to obtain order ID after submission | Details: {}
2025-05-10 16:44:47,252 | INFO | submitOrder started | Details: {}
2025-05-10 16:44:47,257 | ERROR | Missing required fields in submitOrder | Details: {"requesterId": "", "supplierId": ""}
2025-05-10 16:53:11,430 | INFO | previewOrder started | Details: {}
2025-05-10 16:53:11,437 | ERROR | Missing fields in previewOrder | Details: {"requesterId": "", "supplierId": ""}
2025-05-10 16:53:31,771 | INFO | previewOrder started | Details: {}
2025-05-10 16:53:31,790 | ERROR | PreviewOrder failed | Details: {"error": "Failed to generate PDF: 422 - {\"detail\":[{\"type\":\"int_parsing\",\"loc\":[\"path\",\"order_id\"],\"msg\":\"Input should be a valid integer, unable to parse string as an integer\",\"input\":\"undefined\"}]}"}
2025-05-10 16:54:04,501 | INFO | submitOrder started | Details: {}
2025-05-10 16:54:04,524 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1007"}
2025-05-10 16:55:09,267 | INFO | previewOrder started | Details: {}
2025-05-10 16:55:09,274 | ERROR | Missing fields in previewOrder | Details: {"requesterId": "", "supplierId": ""}
2025-05-10 16:55:40,924 | INFO | previewOrder started | Details: {}
2025-05-10 16:55:40,942 | ERROR | PreviewOrder failed | Details: {"error": "Failed to generate PDF: 422 - {\"detail\":[{\"type\":\"int_parsing\",\"loc\":[\"path\",\"order_id\"],\"msg\":\"Input should be a valid integer, unable to parse string as an integer\",\"input\":\"undefined\"}]}"}
2025-05-10 16:57:54,932 | INFO | previewOrder started | Details: {}
2025-05-10 16:57:54,937 | ERROR | Missing fields in previewOrder | Details: {"requesterId": "", "supplierId": ""}
2025-05-10 16:58:15,991 | INFO | previewOrder started | Details: {}
2025-05-10 16:58:16,005 | ERROR | PreviewOrder failed | Details: {"error": "Failed to save draft: 500 - {\"detail\":\"Unexpected server error.\"}"}
2025-05-10 17:31:49,389 | INFO | previewOrder started | Details: {}
2025-05-10 17:31:49,405 | ERROR | PreviewOrder failed | Details: {"error": "Failed to save draft: 500 - {\"detail\":\"Unexpected server error.\"}"}
2025-05-10 17:34:18,368 | INFO | previewOrder started | Details: {}
2025-05-10 17:34:18,383 | ERROR | PreviewOrder failed | Details: {"error": "Failed to save draft: 500 - {\"detail\":\"Unexpected server error.\"}"}
2025-05-10 17:37:47,600 | INFO | previewOrder started | Details: {}
2025-05-10 17:37:47,612 | ERROR | PreviewOrder failed | Details: {"error": "Failed to save draft: 500 - {\"detail\":\"Unexpected server error.\"}"}
2025-05-10 17:42:46,511 | INFO | previewOrder started | Details: {}
2025-05-10 17:42:46,521 | ERROR | PreviewOrder failed | Details: {"error": "Failed to save draft: 500 - Traceback (most recent call last):\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/backend/endpoints/orders.py\", line 48, in create_new_order\n    logging.info(f\"\ud83d\udd0d Incoming order: {order}\")\n    ^^^^^^^\nNameError: name 'logging' is not defined. Did you forget to import 'logging'?\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/sessions.py\", line 85, in __call__\n    await self.app(scope, receive, send_wrapper)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/backend/endpoints/orders.py\", line 64, in create_new_order\n    logging.exception(\"\u274c Order creation failed\")\n    ^^^^^^^\nNameError: name 'logging' is not defined. Did you forget to import 'logging'?\n"}
2025-05-10 17:44:32,293 | INFO | previewOrder started | Details: {}
2025-05-10 17:44:32,309 | ERROR | PreviewOrder failed | Details: {"error": "Failed to save draft: 500 - {\"detail\":\"'order_id'\"}"}
2025-05-10 17:55:05,159 | INFO | previewOrder started | Details: {}
2025-05-10 17:55:05,335 | INFO | Preview PDF displayed | Details: {"order_id": 122}
2025-05-10 17:55:15,253 | ERROR | Failed to send email | Details: {"orderId": 122, "error": "Failed to send email"}
2025-05-10 18:24:03,756 | INFO | previewOrder started | Details: {}
2025-05-10 18:24:03,763 | ERROR | Missing fields in previewOrder | Details: {"requesterId": "", "supplierId": ""}
2025-05-10 18:24:07,561 | INFO | No order submitted yet, submitting order for emailing | Details: {}
2025-05-10 18:24:07,565 | INFO | submitOrder started | Details: {}
2025-05-10 18:24:07,569 | ERROR | Missing required fields in submitOrder | Details: {"requesterId": "", "supplierId": ""}
2025-05-10 18:24:09,800 | ERROR | Failed to obtain order ID after submission | Details: {}
2025-05-10 18:24:27,998 | INFO | previewOrder started | Details: {}
2025-05-10 18:24:28,168 | INFO | Preview PDF displayed | Details: {"order_id": 123}
2025-05-10 18:24:36,335 | ERROR | Failed to send email | Details: {"orderId": 123, "error": "Failed to send email"}
2025-05-10 18:34:17,281 | INFO | previewOrder started | Details: {}
2025-05-10 18:34:17,447 | INFO | Preview PDF displayed | Details: {"order_id": 124}
2025-05-10 18:34:20,796 | ERROR | Failed to send email | Details: {"orderId": 124, "error": "Failed to send email"}
2025-05-11 06:35:36,972 | INFO | previewOrder started | Details: {}
2025-05-11 06:35:36,989 | ERROR | PreviewOrder failed | Details: {"error": "Failed to generate PDF: 404 - {\"detail\":\"Not Found\"}"}
2025-05-11 06:35:47,615 | ERROR | Failed to send email | Details: {"orderId": 125, "error": "Failed to send email"}
2025-05-11 17:36:28,760 | INFO | previewOrder started | Details: {}
2025-05-11 17:36:28,776 | ERROR | PreviewOrder failed | Details: {"error": "Failed to generate PDF: 404 - {\"detail\":\"Not Found\"}"}
2025-05-11 17:36:47,845 | INFO | submitOrder started | Details: {}
2025-05-11 17:36:47,861 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1008", "orderId": 127}
2025-05-12 10:57:49,384 | INFO | previewOrder started | Details: {}
2025-05-12 10:57:49,397 | ERROR | PreviewOrder failed (no DB write) | Details: {"error": "Failed to generate PDF: 404 - {\"detail\":\"Not Found\"}"}
2025-05-12 10:58:29,466 | INFO | previewOrder started | Details: {}
2025-05-12 10:58:49,173 | INFO | previewOrder started | Details: {}
2025-05-12 10:58:49,185 | ERROR | PreviewOrder failed (no DB write) | Details: {"error": "Failed to generate PDF: 404 - {\"detail\":\"Not Found\"}"}
2025-05-12 11:06:08,580 | INFO | previewOrder started | Details: {}
2025-05-12 11:06:08,592 | ERROR | PreviewOrder failed (no DB write) | Details: {"error": "Failed to generate PDF: 404 - {\"detail\":\"Not Found\"}"}
2025-05-12 11:34:09,319 | INFO | previewOrder started | Details: {}
2025-05-12 11:34:09,349 | ERROR | PreviewOrder failed (no DB write) | Details: {"error": "Failed to generate PDF: 500 - Traceback (most recent call last):\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/sessions.py\", line 85, in __call__\n    await self.app(scope, receive, send_wrapper)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/backend/endpoints/new_order_pdf_generator.py\", line 23, in generate_preview_pdf_for_new_order\n    html_content = template.render(\n        order_number=form_data.get(\"order_number\", \"URCxxxx\"),\n    ...<14 lines>...\n        items=form_data.get(\"items\", [])\n    )\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/jinja2/environment.py\", line 1295, in render\n    self.environment.handle_exception()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/jinja2/environment.py\", line 942, in handle_exception\n    raise rewrite_traceback_stack(source=source)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/frontend/templates/pdf_template.html\", line 5, in top-level template code\n    <title>Printable Order - {{ order.order_number }}</title>\n    ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/jinja2/environment.py\", line 490, in getattr\n    return getattr(obj, attribute)\njinja2.exceptions.UndefinedError: 'order' is undefined\n"}
2025-05-12 11:40:49,149 | INFO | previewOrder started | Details: {}
2025-05-12 11:40:49,274 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-12 16:30:09,924 | INFO | previewOrder started | Details: {}
2025-05-12 16:30:10,043 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-12 16:31:24,459 | INFO | previewOrder started | Details: {}
2025-05-13 05:14:17,945 | INFO | previewOrder started | Details: {}
2025-05-13 05:14:18,091 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-13 05:14:26,757 | INFO | submitOrder started | Details: {}
2025-05-13 05:14:26,779 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1009", "orderId": 128}
2025-05-14 05:49:29,547 | INFO | previewOrder started | Details: {}
2025-05-14 05:49:29,686 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-14 05:49:34,278 | INFO | submitOrder started | Details: {}
2025-05-14 05:49:34,294 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1010", "orderId": 129}
2025-05-15 03:55:24,530 | INFO | previewOrder started | Details: {}
2025-05-15 03:55:24,671 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-15 03:55:46,751 | INFO | submitOrder started | Details: {}
2025-05-15 03:55:46,770 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1011", "orderId": 130}
2025-05-15 03:57:32,347 | INFO | previewOrder started | Details: {}
2025-05-15 03:57:32,445 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-15 03:57:45,090 | INFO | submitOrder started | Details: {}
2025-05-15 03:57:45,105 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1012", "orderId": 131}
2025-05-15 04:48:08,807 | INFO | previewOrder started | Details: {}
2025-05-15 04:48:08,941 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-15 04:49:49,786 | INFO | previewOrder started | Details: {}
2025-05-15 04:49:49,920 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-15 04:50:09,921 | INFO | submitOrder started | Details: {}
2025-05-15 04:50:09,936 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1013", "orderId": 132}
2025-05-15 05:34:46,585 | INFO | previewOrder started | Details: {}
2025-05-15 05:34:46,607 | ERROR | PreviewOrder failed (no DB write) | Details: {"error": "Failed to generate PDF: 500 - Traceback (most recent call last):\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/sessions.py\", line 85, in __call__\n    await self.app(scope, receive, send_wrapper)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/backend/endpoints/new_order_pdf_generator.py\", line 41, in generate_preview_pdf_for_new_order\n    html_content = template.render(\n        order=order,\n    ...<2 lines>...\n        logo_path=\"file:///Users/stevencohen/Projects/universal_recycling/orders_project/frontend/static/images/universal_logo.jpg\"\n    )\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/jinja2/environment.py\", line 1295, in render\n    self.environment.handle_exception()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/jinja2/environment.py\", line 942, in handle_exception\n    raise rewrite_traceback_stack(source=source)\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/frontend/templates/pdf_template.html\", line 111, in top-level template code\n    <td>R{{ \"%.2f\"|format(item.total|float) }}</td>\n    ^^^^^^^^^^^^^^^^^\n  File \"/Users/stevencohen/Projects/universal_recycling/orders_project/venv/lib/python3.13/site-packages/jinja2/filters.py\", line 1013, in do_float\n    return float(value)\njinja2.exceptions.UndefinedError: 'dict object' has no attribute 'total'\n"}
2025-05-15 05:38:57,679 | INFO | previewOrder started | Details: {}
2025-05-15 05:38:57,865 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-15 05:50:10,552 | INFO | previewOrder started | Details: {}
2025-05-15 05:50:10,738 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-15 06:26:20,608 | INFO | previewOrder started | Details: {}
2025-05-15 06:26:20,616 | ERROR | PreviewOrder failed (no DB write) | Details: {"error": "Failed to generate PDF: 500 - {\"detail\":\"Failed to generate preview PDF: 422: Missing required fields: created_date, supplier_name, requester_name\"}"}
2025-05-15 06:30:22,599 | INFO | previewOrder started | Details: {}
2025-05-15 06:30:22,607 | ERROR | PreviewOrder failed (no DB write) | Details: {"error": "Failed to generate PDF: 500 - {\"detail\":\"Failed to generate preview PDF: 422: Missing required fields: created_date, supplier_name, requester_name\"}"}
2025-05-15 06:35:02,237 | INFO | previewOrder started | Details: {}
2025-05-15 06:35:02,245 | ERROR | PreviewOrder failed (no DB write) | Details: {"error": "Failed to generate PDF: 500 - {\"detail\":\"Failed to generate preview PDF: 422: Missing required fields: created_date, supplier_name, requester_name\"}"}
2025-05-15 06:49:02,865 | INFO | previewOrder started | Details: {}
2025-05-15 06:49:02,974 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-15 07:33:54,910 | INFO | submitOrder started | Details: {}
2025-05-15 07:33:54,928 | INFO | Order submitted successfully | Details: {"orderNumber": "URC1014", "orderId": 133}
2025-05-16 09:23:47,576 | INFO | previewOrder started | Details: {}
2025-05-16 09:23:47,766 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-16 09:23:53,330 | INFO | submitOrder started | Details: {}
2025-05-16 09:23:53,347 | ERROR | Order submission failed | Details: {"error": "Failed to update order number: 500 - {\"detail\":\"Database error: no such column: auth_threshold\"}"}
2025-05-17 19:07:28,322 | INFO | previewOrder started | Details: {}
2025-05-17 19:07:28,664 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-17 19:07:37,326 | INFO | previewOrder started | Details: {}
2025-05-17 19:07:37,418 | INFO | Preview PDF displayed (no DB write) | Details: {}
2025-05-17 19:52:38,331 | INFO | INFO | previewOrder started | {}
2025-05-17 19:52:38,486 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-17 19:52:44,036 | INFO | INFO | submitOrder started | {}
2025-05-17 19:52:44,049 | ERROR | ERROR | Failed to submit order | {"status": 422, "errorText": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"status\"],\"msg\":\"Field required\",\"input\":{\"order_number\":\"URC1014\",\"total\":400,\"order_note\":\"\",\"note_to_supplier\":\"\",\"requester_id\":3,\"supplier_id\":7,\"items\":[{\"item_code\":\"BEAR180\",\"item_description\":\"Bearing Nylos Ring For 23034 Mac 4 W33 Brass Cage\",\"project\":\"DR09M\",\"qty_ordered\":1,\"price\":400}]}}]}"}
2025-05-17 19:52:44,052 | ERROR | ERROR | Order submission failed | {"error": "Failed to submit order: 422 - {\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"status\"],\"msg\":\"Field required\",\"input\":{\"order_number\":\"URC1014\",\"total\":400,\"order_note\":\"\",\"note_to_supplier\":\"\",\"requester_id\":3,\"supplier_id\":7,\"items\":[{\"item_code\":\"BEAR180\",\"item_description\":\"Bearing Nylos Ring For 23034 Mac 4 W33 Brass Cage\",\"project\":\"DR09M\",\"qty_ordered\":1,\"price\":400}]}}]}"}
2025-05-18 04:09:19,333 | INFO | INFO | previewOrder started | {}
2025-05-18 04:09:19,529 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-18 04:09:35,920 | INFO | INFO | previewOrder started | {}
2025-05-18 04:09:36,036 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-18 04:09:43,729 | INFO | INFO | submitOrder started | {}
2025-05-18 04:23:14,696 | INFO | INFO | previewOrder started | {}
2025-05-18 04:23:14,882 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-18 04:23:20,391 | INFO | INFO | submitOrder started | {}
2025-05-18 04:23:20,401 | ERROR | ERROR | Failed to submit order | {"status": 422, "errorText": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"status\"],\"msg\":\"Field required\",\"input\":{\"order_number\":\"URC1014\",\"total\":300,\"order_note\":\"\",\"note_to_supplier\":\"\",\"requester_id\":3,\"supplier_id\":8,\"items\":[{\"item_code\":\"BEAR180\",\"item_description\":\"Bearing Nylos Ring For 23034 Mac 4 W33 Brass Cage\",\"project\":\"KA04M\",\"qty_ordered\":1,\"price\":300}]}}]}"}
2025-05-18 04:23:20,403 | ERROR | ERROR | Order submission failed | {"error": "Failed to submit order: 422 - {\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"status\"],\"msg\":\"Field required\",\"input\":{\"order_number\":\"URC1014\",\"total\":300,\"order_note\":\"\",\"note_to_supplier\":\"\",\"requester_id\":3,\"supplier_id\":8,\"items\":[{\"item_code\":\"BEAR180\",\"item_description\":\"Bearing Nylos Ring For 23034 Mac 4 W33 Brass Cage\",\"project\":\"KA04M\",\"qty_ordered\":1,\"price\":300}]}}]}"}
2025-05-18 04:39:26,479 | INFO | INFO | previewOrder started | {}
2025-05-18 04:39:26,639 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-18 04:39:33,593 | INFO | INFO | submitOrder started | {}
2025-05-18 04:39:33,612 | INFO | INFO | Order submitted and settings updated | {"orderId": 135}
2025-05-18 04:41:20,640 | INFO | INFO | submitOrder started | {}
2025-05-18 04:41:20,660 | INFO | INFO | Order submitted and settings updated | {"orderId": 136}
2025-05-18 04:50:29,982 | INFO | INFO | previewOrder started | {}
2025-05-18 04:50:30,174 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-18 04:50:35,569 | INFO | INFO | submitOrder started | {}
2025-05-18 04:50:35,589 | INFO | INFO | Order submitted and settings updated | {"orderId": 137}
2025-05-18 04:55:39,512 | INFO | INFO | submitOrder started | {}
2025-05-18 04:55:39,533 | INFO | INFO | Order submitted and settings updated | {"orderId": 138}
2025-05-18 04:57:50,878 | INFO | INFO | previewOrder started | {}
2025-05-18 04:57:51,060 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-18 04:57:55,802 | INFO | INFO | submitOrder started | {}
2025-05-18 04:57:55,823 | INFO | INFO | Order submitted and settings updated | {"orderId": 139}
2025-05-18 04:58:42,077 | INFO | INFO | submitOrder started | {}
2025-05-18 04:58:42,094 | INFO | INFO | Order submitted and settings updated | {"orderId": 140}
2025-05-18 05:03:09,344 | INFO | INFO | previewOrder started | {}
2025-05-18 05:03:09,547 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-18 05:03:13,866 | INFO | INFO | submitOrder started | {}
2025-05-18 05:03:13,886 | INFO | INFO | Order submitted and settings updated | {"orderId": 141}
2025-05-18 05:13:41,859 | INFO | INFO | previewOrder started | {}
2025-05-18 05:13:42,034 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-18 05:13:47,661 | INFO | INFO | submitOrder started | {}
2025-05-18 05:13:47,675 | ERROR | ERROR | Order submission failed | {"error": "Cannot read properties of undefined (reading 'match')"}
2025-05-18 05:27:09,619 | INFO | INFO | submitOrder started | {}
2025-05-18 05:27:09,637 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1022", "orderId": 143}
2025-05-19 12:27:22,328 | INFO | INFO | previewOrder started | {}
2025-05-19 12:27:22,518 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-19 12:27:44,597 | INFO | INFO | submitOrder started | {}
2025-05-19 12:27:44,629 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1001", "orderId": 144}
2025-05-19 13:04:43,281 | INFO | INFO | previewOrder started | {}
2025-05-19 13:04:43,416 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-19 13:04:49,222 | INFO | INFO | submitOrder started | {}
2025-05-19 13:04:49,251 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1002", "orderId": 145}
2025-05-20 12:19:10,265 | INFO | INFO | previewOrder started | {}
2025-05-20 12:19:10,464 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-20 12:19:15,973 | INFO | INFO | submitOrder started | {}
2025-05-20 12:19:15,995 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1003", "orderId": 146}
2025-05-20 12:34:07,605 | INFO | INFO | submitOrder started | {}
2025-05-20 12:34:07,622 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1004", "orderId": 147}
2025-05-20 12:38:01,605 | INFO | INFO | submitOrder started | {}
2025-05-20 12:38:01,622 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1005", "orderId": 148}
2025-05-20 16:50:44,341 | INFO | INFO | previewOrder started | {}
2025-05-20 16:50:44,502 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-20 16:50:48,753 | INFO | INFO | submitOrder started | {}
2025-05-20 16:50:48,772 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1006", "orderId": 149}
2025-05-20 17:19:41,857 | INFO | INFO | previewOrder started | {}
2025-05-20 17:19:42,011 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-20 17:19:49,027 | INFO | INFO | submitOrder started | {}
2025-05-20 17:19:49,047 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1007", "orderId": 150}
2025-05-21 03:42:00,155 | INFO | INFO | previewOrder started | {}
2025-05-21 03:42:00,262 | INFO | INFO | Preview PDF displayed (no DB write) | {}
2025-05-21 03:42:08,762 | INFO | INFO | submitOrder started | {}
2025-05-21 03:42:08,781 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1008", "orderId": 151}
2025-05-21 03:53:52,657 | INFO | INFO | submitOrder started | {}
2025-05-21 03:53:52,674 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1009", "orderId": 152}
2025-05-21 04:00:52,048 | INFO | INFO | submitOrder started | {}
2025-05-21 04:00:52,063 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1010", "orderId": 153}
2025-05-21 05:05:41,209 | INFO | INFO | submitOrder started | {}
2025-05-21 05:05:41,226 | INFO | INFO | Order submitted and order number incremented | {"orderNumber": "URC1011", "orderId": 154}
